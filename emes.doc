------------------------------------
  MSX Emulator for X680x0 - emes.x

      Copyright 1997-1998 nir
------------------------------------



X68000シリーズで動作するMSXエミュレータです。
現バージョンでは、MSX1相当の機能が動作します。


○サポート機能について

    CPU ................ Z80 の命令をエミュレートしています。
    
    スロット ........... 全てのスロットが拡張スロットという仕様になっています。。
                         スロット切り替え処理は別ファイルとして分離しているため、
                         実行する環境にあわせて選択します。
                         KONAMI/ASCII のメガロムに対応しています。
    
    VDP ................ V9938 の機能をエミュレートしていますが、まだMSX1相当
                         の部分しかできていません。
                         VDPコマンドは、無視されます。
    
    割り込み ........... 垂直同期を60Hzとなるように画面モードを設定するため、
                         実機と同等なタイミングで割り込みが発生します。
    
    CLOCK-IC ........... 一応動作しますが、書き込まれたデータは保存されません。
    
    メモリマッパー ..... 256セグメントまで割り当てることができます。
    
    ジョイスティック ... ジョイスティック１、２が使用できます。
    
    サウンド ........... 森田浩次氏の作られた「Ｘ１エミュレータ for X68000」
                         を参考にしてPSG音源、コナミのSCC音源をサポートしています。
                         サウンド処理は別ファイルとして分離しているため実行す
                         る環境にあわせて選択できます。
                         SCC音源の音色指定は無視されます。



○システムROMについて

　このプログラムを動作させるには、MSX1またはMSX2本体から読み出した ROM イメ
  ージが必要です。
  MSX2+以降の ROM イメージが使用できるかどうかは未確認です。
  
  付属の 'MKROM.BAS' を MSX で実行して、以下のファイルをコピーしてください。
  
    MSX1 の場合
        BIOS.ROM BASIC.ROM
    MSX2 の場合
        BIOS.ROM BASIC.ROM SUBROM.ROM
　
  開発にはPanasonic の FS-A1F (MSX2) を使用しています。



○コンフィグファイルについて

  RAM や、ROM のスロットの指定は、コンフィグファイルによって行います。
  コンフィグファイルは、デフォルトではカレントディレクトリの 'emes.cfg'
  が使用されます。
  
  コンフィグファイルの書式については、emes.cfg を参照してください。
  
  ROM ファイルは、ページ単位で保存し、それぞれを指定してください。
  32K の ROM カートリッジの場合は、16K のファイル２つになります。



○パッチファイルについて

  ROMファイルの読み込み時に、その ROM に対してパッチを当てることができます。
  
  付属の 'SUBROM.PAT' は、Panasonic FS-A1F の ROM に対するパッチです。
  このパッチは、他の MSX の ROM に対して使用できるかどうかは分かりません。
  正常に動作しない場合は、コンフィグファイルを修正してパッチの指定を削除し
  てください。



○必要メモリ

  約２．８ＭＢの連続した空きメモリが必要です



○メガロムについて

  現在、KONAMI社のロムカートリッジと、ASCII社のロムカートリッジに対応して
  います。
  ロムイメージを作成するためのツールは添付していませんので、fMSX98用のもの
  を使用して作成してください。



○起動方法

  書式 : emes.x [option]... [filename]

  filename を指定すると、コンフィグファイルを変更できます。
  省略時には、emes.cfg が使用されます。
  
  以下のオプションが使用できます。（大文字、小文字の区別はしません）
  
    -I    ... スロット情報を表示します。
    
    -W[n] ... 割り込み周期を n/60Hz にします。
              n を省略した場合は 30Hz となります。
    
    -U    ... 画面更新を間引きます。



○キーボードについて

  X68k にないキーについては、以下のように割り当てています。
  
    [GRAPH]  -> [XF1]
    [SELECT] -> [XF5]
    [STOP]   -> [BREAK]
  
  [登録]キーは、デバッグ用に使用しています。もし、押してしまった場合は
  もう一度押してください。（[コード入力]が点滅しているとデバッグモードです）



○終了方法

　[COPY]キーで終了です。



○バグ

  SUBROM.ROM が、BIOS.ROMやBASIC.ROM と同一の基本スロット上にないと
  正常に動作しないという問題があります。



○無保証について

  このプログラムは無保証です。



○転載について

  ご連絡ください。



○謝辞

  PSG音源のサポートに当たり、森田浩次氏の作られた「Ｘ１エミュレータ for X68000」
  のソースを流用／  改造させていただきました。ソースの使用を快諾してくださった
  森田浩次氏に感謝いたします。
  
  PSGの音色データについては、「Ｘ１エミュレータ for X68000」と同様に、電波新聞社
  の「マイコン BASIC Magazine」の「ＦＭ音源でPSGの音を出す」コーナーに載って
  いたものを使用しています。もし問題がありましたらご連絡ください。



○参考

  開発に当たり以下のものを参照しました。
  
    MSX-Datapack  ASCII
    
    MSXテクニカルガイドブック 第四版+ディスク編  ASCAT
    
    マシン語入門 PART2  アスキー出版局
    
    Inside X68000  SOFT BANK
    
    X68030 Inside/out SOFT BANK
    
    68000 プログラマーズ・ハンドブック  技術評論社
    
    fMSX 0.9 for X68k のソース（CLOCK-IC, DAA の処理部分）
    
    Perl プログラミング SOFT BANK
    
    Ｘ１エミュレータ for X68000 森田浩次氏



○連絡先

  ホームページ   http://w3.to/nir/
  E-mail         nir@messages.to
  Niftyserve     PEG02605

